import { PiletFeedsApi, FeedConnector, FeedConnectorOptions } from 'piral-feeds';

/**
 * Feed connector factory for machine details.
 * @param pilet The API instance.
 * @param machineId The machine ID to filter. undefined to not filter machines.
 */
export function withMachineDetailsConnector(pilet: PiletFeedsApi, machineId: string): FeedConnector<any> {

  const data = {"data":{"status":"running","machine_type":"measurement","longitude":48.095612723293506,"latitude":11.524313736313678,"last_maintenance":"2017-04-01T13:00:00.000000Z","install_date":"2015-04-14","id":"877a6017-9fcc-4338-b74c-681bf76a77f3","floor":5,"events":[{"timestamp":"2020-01-08T09:20:00.939450Z","status":"running"},{"timestamp":"2019-12-16T01:27:45.658476Z","status":"running"},{"timestamp":"2019-11-28T01:34:16.103841Z","status":"finished"},{"timestamp":"2019-11-23T10:40:41.615463Z","status":"finished"},{"timestamp":"2019-09-20T08:38:22.797132Z","status":"finished"},{"timestamp":"2019-09-05T06:27:40.720530Z","status":"running"},{"timestamp":"2019-07-24T19:55:52.840732Z","status":"running"},{"timestamp":"2019-07-15T12:46:07.444509Z","status":"running"},{"timestamp":"2019-07-13T13:49:29.021605Z","status":"finished"},{"timestamp":"2019-07-10T01:11:19.747105Z","status":"repaired"},{"timestamp":"2019-07-08T10:10:40.549649Z","status":"finished"},{"timestamp":"2019-07-08T07:47:01.517934Z","status":"finished"},{"timestamp":"2019-06-16T16:53:45.247843Z","status":"running"},{"timestamp":"2019-06-15T20:04:28.387358Z","status":"running"},{"timestamp":"2019-06-12T23:38:52.913660Z","status":"running"},{"timestamp":"2019-06-11T19:58:53.105979Z","status":"running"},{"timestamp":"2019-06-06T09:37:43.560306Z","status":"finished"},{"timestamp":"2019-05-31T17:49:24.294522Z","status":"finished"},{"timestamp":"2019-04-01T23:10:15.051980Z","status":"finished"},{"timestamp":"2019-03-25T08:34:42.690962Z","status":"running"},{"timestamp":"2019-02-09T19:19:24.978708Z","status":"finished"},{"timestamp":"2018-12-11T11:35:50.147392Z","status":"running"},{"timestamp":"2018-12-07T06:04:29.646399Z","status":"running"},{"timestamp":"2018-11-28T17:16:17.280822Z","status":"finished"},{"timestamp":"2018-11-06T06:44:04.445510Z","status":"finished"},{"timestamp":"2018-10-26T23:07:12.347784Z","status":"finished"},{"timestamp":"2018-10-18T12:50:32.586389Z","status":"finished"},{"timestamp":"2018-10-10T01:09:13.917529Z","status":"running"},{"timestamp":"2018-09-20T23:57:19.433929Z","status":"running"},{"timestamp":"2018-09-17T07:09:10.410936Z","status":"running"},{"timestamp":"2018-09-09T22:48:59.972280Z","status":"running"},{"timestamp":"2018-09-04T19:46:13.126360Z","status":"finished"},{"timestamp":"2018-08-30T22:19:45.874586Z","status":"running"},{"timestamp":"2018-08-21T05:39:48.013117Z","status":"running"},{"timestamp":"2018-08-10T15:28:35.544195Z","status":"running"},{"timestamp":"2018-06-24T16:15:20.470810Z","status":"repaired"},{"timestamp":"2018-06-11T11:43:08.331016Z","status":"running"},{"timestamp":"2018-06-08T11:33:26.981252Z","status":"running"},{"timestamp":"2018-05-14T17:48:13.524441Z","status":"running"},{"timestamp":"2018-05-07T19:21:52.956463Z","status":"running"},{"timestamp":"2018-05-01T17:45:57.942739Z","status":"running"},{"timestamp":"2018-04-30T23:56:36.891615Z","status":"running"},{"timestamp":"2018-04-19T17:01:10.396063Z","status":"running"},{"timestamp":"2018-04-04T21:25:40.078091Z","status":"errored"}]}};
  const result = pilet.createConnector(() =>Promise.resolve(data.data));
  return result;
}
